<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>6.0</version>
    <date>2022-03-10T14:34:11Z</date>
    <groups>
        <group>
            <uuid>20991b5cdb214dffb4eab899b36516e6</uuid>
            <name>PARKS</name>
        </group>
    </groups>
    <templates>
        <template>
            <uuid>aa1f6b6ba9c9408ab4bc7ebaa80353c1</uuid>
            <template>ONUs_NA_OLT_PARKS</template>
            <name>ONUs_NA_OLT_PARKS</name>
            <groups>
                <group>
                    <name>PARKS</name>
                </group>
            </groups>
            <discovery_rules>
                <discovery_rule>
                    <uuid>71d38a73c9784e0db75f99a1e78786c8</uuid>
                    <name>ONUs Discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#ONUNAME},1.3.6.1.4.1.6771.10.1.5.1.62]</snmp_oid>
                    <key>onudiscovery</key>
                    <delay>10m</delay>
                    <item_prototypes>
                        <item_prototype>
                            <uuid>2042ff07b24c469291264b2ee8162649</uuid>
                            <name>Nível de Sinal {#ONUNAME}</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>1.3.6.1.4.1.6771.10.1.5.1.15.{#SNMPINDEX}</snmp_oid>
                            <key>OnuRxPower.[{#SNMPINDEX}]</key>
                            <delay>5m</delay>
                            <value_type>FLOAT</value_type>
                            <units>dBm</units>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <parameters>
                                        <parameter>-0.01</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>ONUs</value>
                                </tag>
                            </tags>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <uuid>edcc81d412e449fcbf1ab6d3ac1c9f87</uuid>
                                    <expression>last(/ONUs_NA_OLT_PARKS/OnuRxPower.[{#SNMPINDEX}])&lt;-25</expression>
                                    <recovery_mode>NONE</recovery_mode>
                                    <name>ONU {#SNMPINDEX}- {#ONUNAME} - ALERTA SINAL BAIXO</name>
                                    <priority>WARNING</priority>
                                    <manual_close>YES</manual_close>
                                    <tags>
                                        <tag>
                                            <tag>Rx</tag>
                                            <value>ONU</value>
                                        </tag>
                                    </tags>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <uuid>2c25cc285a52488d9c2e1b0c957f06ef</uuid>
                            <name>Nível de RSSI {#ONUNAME}</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.3893.1.23.7.1.1.14.{#SNMPINDEX}</snmp_oid>
                            <key>OnuTxPower.[{#SNMPINDEX}]</key>
                            <delay>5m</delay>
                            <value_type>FLOAT</value_type>
                            <units>dB</units>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <parameters>
                                        <parameter>-0.01</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>ONUs</value>
                                </tag>
                            </tags>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <uuid>355eb8e441bb4e8eb66d3381645b0939</uuid>
                                    <expression>last(/ONUs_NA_OLT_PARKS/OnuTxPower.[{#SNMPINDEX}])&lt;-28</expression>
                                    <recovery_mode>NONE</recovery_mode>
                                    <name>ONU {#SNMPINDEX}- {#ONUNAME} - ALERTA RSSI BAIXO</name>
                                    <priority>WARNING</priority>
                                    <manual_close>YES</manual_close>
                                    <tags>
                                        <tag>
                                            <tag>TX</tag>
                                            <value>ONU</value>
                                        </tag>
                                    </tags>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                    <trigger_prototypes>
                        <trigger_prototype>
                            <uuid>64dd4cb03133474489e1f5a697550fa7</uuid>
                            <expression>last(/ONUs_NA_OLT_PARKS/OnuTxPower.[{#SNMPINDEX}])=0 and last(/ONUs_NA_OLT_PARKS/OnuRxPower.[{#SNMPINDEX}])=0</expression>
                            <name>ONU {#SNMPINDEX} - {#ONUNAME} - DOWN NA OLT</name>
                            <priority>WARNING</priority>
                            <manual_close>YES</manual_close>
                            <tags>
                                <tag>
                                    <tag>DOWN</tag>
                                    <value>ONU</value>
                                </tag>
                            </tags>
                        </trigger_prototype>
                    </trigger_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <uuid>040ed6c1dea64093910c8afba1ac6abd</uuid>
                            <name>Sinais ONU {#ONUNAME}</name>
                            <graph_items>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <drawtype>DASHED_LINE</drawtype>
                                    <color>FF0000</color>
                                    <calc_fnc>ALL</calc_fnc>
                                    <item>
                                        <host>ONUs_NA_OLT_PARKS</host>
                                        <key>OnuTxPower.[{#SNMPINDEX}]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>2</sortorder>
                                    <drawtype>BOLD_LINE</drawtype>
                                    <color>4CAF50</color>
                                    <calc_fnc>ALL</calc_fnc>
                                    <item>
                                        <host>ONUs_NA_OLT_PARKS</host>
                                        <key>OnuRxPower.[{#SNMPINDEX}]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                </discovery_rule>
            </discovery_rules>
            <tags>
                <tag>
                    <tag>PARKS</tag>
                    <value>ONU</value>
                </tag>
            </tags>
        </template>
    </templates>
</zabbix_export>
